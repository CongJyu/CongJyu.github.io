<html>
<!-- Head tag -->
<head>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    
        <link rel="icon" href="/images/favicon.ico">
    
    <title>
        macOS 上的 Visual Studio Code 配置 |
        
        Rain Chen&#39;s Blog</title>
    
<link rel="stylesheet" href="/css/font-awesome/css/font-awesome.css">

    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/css/highlight.css">

    
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?542b4962c3c4035fce9071b7c665f0d2";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    
    <!-- Google Analytics -->
    <script type="text/javascript">
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-97838175-1', 'auto');
        ga('send', 'pageview');

    </script>
    <!-- End Google Analytics -->


    
<meta name="generator" content="Hexo 6.2.0"></head>
<body>
<div id="site" class="site">
    <div id="sidebar" class="sidebar">
        <header id="header" class="site-header">
    <div class="site-branding">
        <h1 class="site-title">
            
                <a href="/images/RainChen.png" class="avatar-circle"><img
                            src="/images/RainChen.png"/></a>
            
            <a href="/" rel="home">Rain Chen&#39;s Blog</a></h1>
        <p class="site-description">🏳️‍⚧️🏳️‍⚧️🏳️‍⚧️ Everyone has her/his right to wear skirts!</p>
        <button class="secondary-toggle font-asesome-icon">Menu and widgets</button>
    </div>
</header>
<div id="secondary" class="secondary">
    <nav class="main-navigation">
        <ul id="menu-demo-menu" class="nav-menu">
            
                <li class="menu-item"><a href="/">Home</a></li>
            
                <li class="menu-item"><a href="/archives">Archives</a></li>
            
                <li class="menu-item"><a href="/about">About Me</a></li>
            
        </ul>
    </nav>
    
        
    <aside class="widget">
        <h3 class="widget-title">Archives</h3>
        <ul>
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021</a><span class="archive-list-count">7</span></li></ul>
        </ul>
    </aside>


    
        <aside class="widget">
    <input id="local-search-input" type="search" class="search-field" placeholder="Search …" value="" name="s">
    <div id="local-search-result" class="search-result">
    </div>
</aside>
    
        
    <aside class="widget">
        <h3 class="widget-title">Recent Posts</h3>
        <ul>
            
                <li>
                    <a href="/2022/07/04/2022-07-03-HNU%E5%A4%8F%E5%AD%A3%E5%AD%A6%E6%9C%9F%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E9%A2%98%E8%A7%A3%E4%BA%8C/">HNU 夏季学期「程序设计训练 2022」 课程题解（二）</a>
                </li>
            
                <li>
                    <a href="/2022/06/22/2022-06-22-HNU%E5%A4%8F%E5%AD%A3%E5%AD%A6%E6%9C%9F%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E9%A2%98%E8%A7%A3%E4%B8%80/">HNU 夏季学期「程序设计训练 2022」 课程题解（一）</a>
                </li>
            
                <li>
                    <a href="/2022/04/24/2022-04-24-%E4%B8%80%E4%BA%9Bzsh%E7%9A%84%E9%85%8D%E7%BD%AE/">当我卸载了 oh-my-zsh 之后</a>
                </li>
            
                <li>
                    <a href="/2022/01/26/2022-01-26-FortranProgramming/">Fortran Programming</a>
                </li>
            
                <li>
                    <a href="/2022/01/26/2022-01-26-macOS%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80/">macOS Basic Usages</a>
                </li>
            
        </ul>
    </aside>


    
        
    <aside class="widget">
        <h3 class="widget-title">Tag Cloud</h3>
        <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/%E5%BC%80%E5%8F%91%E4%B8%8E%E5%BA%94%E7%94%A8/" style="font-size: 20px;">开发与应用</a> <a href="/tags/%E6%9D%82%E8%B0%88%E7%A2%8E%E7%AC%94/" style="font-size: 10px;">杂谈碎笔</a>
    </aside>

    
</div>

    </div>
    <div id="content" class="site-content">
        <main id="main" class="site-main" role="main">
            
<article class="hentry ">
    
    
        <header class="entry-header">
            <h2 class="entry-title"><a class="post-title-link" href="/2021/12/17/2021-12-17-macOS%E4%B8%8A%E7%9A%84VSCode%E9%85%8D%E7%BD%AE/"
                                       rel="bookmark">macOS 上的 Visual Studio Code 配置</a></h2>
        </header>
    
    <!-- .entry-header -->
    <div class="entry-content">
        
            <h1 id="macOS-上的-Visual-Studio-Code-配置"><a href="#macOS-上的-Visual-Studio-Code-配置" class="headerlink" title="macOS 上的 Visual Studio Code 配置"></a>macOS 上的 Visual Studio Code 配置</h1><h2 id="C-C-编译调试配置"><a href="#C-C-编译调试配置" class="headerlink" title="C/C++ 编译调试配置"></a>C/C++ 编译调试配置</h2><h3 id="settings-json-文件配置"><a href="#settings-json-文件配置" class="headerlink" title="settings.json 文件配置"></a>settings.json 文件配置</h3><ul>
<li>需要安装<code>Code Runner</code>扩展。</li>
</ul>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token property">"code-runner.runInTerminal"</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>作用：在 VS Code 的集成终端里运行程序，可以输入与输出。</p>
<h3 id="launch-json-文件配置"><a href="#launch-json-文件配置" class="headerlink" title="launch.json 文件配置"></a>launch.json 文件配置</h3><ul>
<li>需要安装<code>C/C++</code>扩展</li>
<li>需要安装<code>CodeLLDB</code>扩展</li>
<li>需要安装<code>C/C++ Clang Command Adapter</code>扩展</li>
</ul>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token comment">// Use IntelliSense to learn about possible attributes.</span>
    <span class="token comment">// Hover to view descriptions of existing attributes.</span>
    <span class="token comment">// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span>
    <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"0.2.0"</span><span class="token punctuation">,</span>
    <span class="token property">"configurations"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
            <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"lldb"</span><span class="token punctuation">,</span>
            <span class="token property">"request"</span><span class="token operator">:</span> <span class="token string">"launch"</span><span class="token punctuation">,</span>
            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"C/C++: Debug"</span><span class="token punctuation">,</span>
            <span class="token property">"program"</span><span class="token operator">:</span> <span class="token string">"$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;"</span><span class="token punctuation">,</span>
            <span class="token property">"args"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">"cwd"</span><span class="token operator">:</span> <span class="token string">"$&#123;workspaceFolder&#125;"</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在原来的配置文件的基础上修改为以上内容。其中<code>&quot;program&quot;: &quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</code>是说明生成二进制文件的位置。<code>&quot;cwd&quot;</code>一栏填工作文件夹<code>&quot;$&#123;workspaceFolder&#125;&quot;</code>即可。</p>
<h3 id="tasks-json-文件配置"><a href="#tasks-json-文件配置" class="headerlink" title="tasks.json 文件配置"></a>tasks.json 文件配置</h3><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token property">"tasks"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
            <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"cppbuild"</span><span class="token punctuation">,</span>
            <span class="token property">"label"</span><span class="token operator">:</span> <span class="token string">"C/C++: clang++ build active file"</span><span class="token punctuation">,</span>
            <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"/usr/bin/clang++"</span><span class="token punctuation">,</span>
            <span class="token property">"args"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"-std=c++17"</span><span class="token punctuation">,</span>
                <span class="token string">"-g"</span><span class="token punctuation">,</span>
                <span class="token string">"$&#123;file&#125;"</span><span class="token punctuation">,</span>
                <span class="token string">"-o"</span><span class="token punctuation">,</span>
                <span class="token string">"$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;"</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">"options"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token property">"cwd"</span><span class="token operator">:</span> <span class="token string">"$&#123;fileDirname&#125;"</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token property">"problemMatcher"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"$gcc"</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">"group"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"build"</span><span class="token punctuation">,</span>
                <span class="token property">"isDefault"</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token property">"detail"</span><span class="token operator">:</span> <span class="token string">"Task generated by Debugger."</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"2.0.0"</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其中的<code>&quot;args&quot;: []</code>里的是编译指令，根据你所使用的编译器来写，例如我的<code>&quot;command&quot;: &quot;usr/bin/clang++&quot;</code>的编译指令就写在<code>&quot;args&quot;: []</code>里面了。</p>
<h2 id="Python-编译调试配置"><a href="#Python-编译调试配置" class="headerlink" title="Python 编译调试配置"></a>Python 编译调试配置</h2><h3 id="settings-json-文件配置-1"><a href="#settings-json-文件配置-1" class="headerlink" title="settings.json 文件配置"></a>settings.json 文件配置</h3><ul>
<li>需要安装<code>Python</code>扩展</li>
<li>需要安装一个版本的<code>Python</code></li>
</ul>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token property">"code-runner.runInTerminal"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"python.pythonPath"</span><span class="token operator">:</span> <span class="token string">"/usr/local/bin/python3"</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>要在<code>settings.json</code>文件中添加<code>Python</code>解释器的路径。</p>
<h3 id="launch-json-文件配置-1"><a href="#launch-json-文件配置-1" class="headerlink" title="launch.json 文件配置"></a>launch.json 文件配置</h3><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token comment">// Use IntelliSense to learn about possible attributes.</span>
    <span class="token comment">// Hover to view descriptions of existing attributes.</span>
    <span class="token comment">// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span>
    <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"0.2.0"</span><span class="token punctuation">,</span>
    <span class="token property">"configurations"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Python: Current File"</span><span class="token punctuation">,</span>
            <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"python"</span><span class="token punctuation">,</span>
            <span class="token property">"request"</span><span class="token operator">:</span> <span class="token string">"launch"</span><span class="token punctuation">,</span>
            <span class="token property">"program"</span><span class="token operator">:</span> <span class="token string">"$&#123;file&#125;"</span><span class="token punctuation">,</span>
            <span class="token property">"console"</span><span class="token operator">:</span> <span class="token string">"integratedTerminal"</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>默认设置即可。</p>
<h3 id="tasks-json-文件配置-1"><a href="#tasks-json-文件配置-1" class="headerlink" title="tasks.json 文件配置"></a>tasks.json 文件配置</h3><p>可以暂时不用。</p>
<h2 id="Fortran-编译调试配置"><a href="#Fortran-编译调试配置" class="headerlink" title="Fortran 编译调试配置"></a>Fortran 编译调试配置</h2><ul>
<li>需要安装<code>gfortran</code>编译器</li>
<li>需要安装<code>Modern Fortran</code>扩展</li>
<li>需要安装<code>Fortran Breakpoint Support</code>扩展</li>
</ul>
<h3 id="settings-json-文件配置-2"><a href="#settings-json-文件配置-2" class="headerlink" title="settings.json 文件配置"></a>settings.json 文件配置</h3><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token property">"code-runner.runInTerminal"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"fortran.includePaths"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"/usr/local/include"</span><span class="token punctuation">,</span>
        <span class="token string">"/usr/local"</span><span class="token punctuation">,</span>
        <span class="token string">"/usr/local/bin"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"fortran.symbols"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"function"</span><span class="token punctuation">,</span> <span class="token string">"subroutine"</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>要在此文件中写上<code>fortran</code>编译器的目录，比如我的目录<code>usr/local/bin</code>。</p>
<h3 id="launch-json-文件配置-2"><a href="#launch-json-文件配置-2" class="headerlink" title="launch.json 文件配置"></a>launch.json 文件配置</h3><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token comment">// Use IntelliSense to learn about possible attributes.</span>
    <span class="token comment">// Hover to view descriptions of existing attributes.</span>
    <span class="token comment">// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span>
    <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"0.2.0"</span><span class="token punctuation">,</span>
    <span class="token property">"configurations"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"lldb"</span><span class="token punctuation">,</span>
        <span class="token property">"request"</span><span class="token operator">:</span> <span class="token string">"launch"</span><span class="token punctuation">,</span>
        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Fortran: Debug"</span><span class="token punctuation">,</span>
        <span class="token property">"program"</span><span class="token operator">:</span> <span class="token string">"$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;"</span><span class="token punctuation">,</span>
        <span class="token property">"args"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"cwd"</span><span class="token operator">:</span> <span class="token string">"$&#123;workspaceFolder&#125;"</span>
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这里是有关程序运行的设定。</p>
<h3 id="tasks-json-文件配置-2"><a href="#tasks-json-文件配置-2" class="headerlink" title="tasks.json 文件配置"></a>tasks.json 文件配置</h3><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token property">"tasks"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
            <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"shell"</span><span class="token punctuation">,</span>
            <span class="token property">"label"</span><span class="token operator">:</span> <span class="token string">"Fortran: gfortran"</span><span class="token punctuation">,</span>
            <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"gfortran"</span><span class="token punctuation">,</span>
            <span class="token property">"args"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"$&#123;file&#125;"</span><span class="token punctuation">,</span>
                <span class="token string">"-o"</span><span class="token punctuation">,</span>
                <span class="token string">"$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;"</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">"options"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token property">"cwd"</span><span class="token operator">:</span> <span class="token string">"$&#123;fileDirname&#125;"</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token property">"problemMatcher"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">"$gcc"</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">"group"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token property">"kind"</span><span class="token operator">:</span> <span class="token string">"build"</span><span class="token punctuation">,</span>
                <span class="token property">"isDefault"</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token property">"detail"</span><span class="token operator">:</span> <span class="token string">"Task generated by Debugger."</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"2.0.0"</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这个文件是用来配置编译任务的，注意<code>&quot;type&quot;</code>、<code>&quot;label&quot;</code>以及<code>&quot;command&quot;</code>这几项需要自己写。</p>
<h2 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h2><p>本文由 Rain Chen 自己摸索而成，仅供参考，不足之处，还请指出。</p>
<blockquote>
<p>转载请注明来源：<a href="https://chen-rain.github.io">https://chen-rain.github.io</a></p>
</blockquote>


            
            
        
    </div><!-- .entry-content -->
    
    <footer class="entry-footer">
        <span class="posted-on font-asesome-icon">
	<a href="" rel="bookmark">
	<time class="updated"
          datetime="2021-12-16T16:00:00.000Z">2021-12-17</time>
	</a>
</span>


    <span class="tags-links font-asesome-icon">
    
        <a href="/tags/Mac/" rel="category tag">Mac</a>
    
        <a href="/tags/%E5%BC%80%E5%8F%91%E4%B8%8E%E5%BA%94%E7%94%A8/" rel="category tag">开发与应用</a>
    
</span>


    <span class="eye font-asesome-icon leancloud_visitors" id="/2021/12/17/2021-12-17-macOS%E4%B8%8A%E7%9A%84VSCode%E9%85%8D%E7%BD%AE/"
          data-flag-title="macOS 上的 Visual Studio Code 配置">
         <span class="leancloud-visitors-count">
             
         </span>
    </span>

    </footer><!-- .entry-footer -->
</article>
<div class="misc">
    <a href="#main"><span class="top font-asesome-icon">Top</span></a>
</div>

        </main>
    </div>
    <footer id="colophon" class="site-footer">
        <div class="site-info">
            <span>Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>&nbsp;&nbsp; theme by <a
                        target="_blank" rel="noopener" href="https://github.com/Chen-Rain">Rain</a> &nbsp; inspired by <a
                        target="_blank" rel="noopener" href="https://wordpress.org/themes/">Wordpress</a></span>
        </div><!-- .site-info -->
    </footer>
</div>

<!-- After footer scripts -->

<script src="/js/jquery-3.1.1.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        (function () {
            function leancloudSelector(url) {
                url = encodeURI(url);
                return document.getElementById(url).querySelector('.leancloud-visitors-count');
            }

            function addCount(Counter) {
                var visitors = document.querySelector('.leancloud_visitors');
                var url = decodeURI(visitors.id);
                var title = visitors.dataset.flagTitle;

                Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({url})))
                    .then(response => response.json())
                    .then(({results}) => {
                        if (results.length > 0) {
                            var counter = results[0];
                            leancloudSelector(url).innerText = counter.time + 1;
                            Counter('put', '/classes/Counter/' + counter.objectId, {
                                time: {
                                    '__op': 'Increment',
                                    'amount': 1
                                }
                            })
                                .catch(error => {
                                    console.error('Failed to save visitor count', error);
                                });
                        } else {
                            Counter('post', '/classes/Counter', {title, url, time: 1})
                                .then(response => response.json())
                                .then(() => {
                                    leancloudSelector(url).innerText = 1;
                                })
                                .catch(error => {
                                    console.error('Failed to create', error);
                                });
                        }
                    })
                    .catch(error => {
                        console.error('LeanCloud Counter Error', error);
                    });
            }

            function showTime(Counter) {
                var visitors = document.querySelectorAll('.leancloud_visitors');
                var entries = [...visitors].map(element => {
                    return decodeURI(element.id);
                });

                Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({url: {'$in': entries}})))
                    .then(response => response.json())
                    .then(({results}) => {
                        for (let url of entries) {
                            let target = results.find(item => item.url === url);
                            leancloudSelector(url).innerText = target ? target.time : 0;
                        }
                    })
                    .catch(error => {
                        console.error('LeanCloud Counter Error', error);
                    });
            }

            let app_id = "wzqncxgqp9MCPiPERe3gnX2Q-gzGzoHsz";
            let app_key = "CCtBiqyPtJWupuozt1393AXm";
            let server_url = "https://wzqncxgq.lc-cn-n1-shared.com";

            function fetchData(api_server) {
                var Counter = (method, url, data) => {
                    return fetch(`${api_server}/1.1${url}`, {
                        method,
                        headers: {
                            'X-LC-Id': app_id,
                            'X-LC-Key': app_key,
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data)
                    });
                };
                if ($('.leancloud_visitors').length == 1) {
                    addCount(Counter);
                } else if ($('.post-title-link').length > 1) {
                    showTime(Counter);
                }
            }

            let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

            if (api_server) {
                fetchData(api_server);
            } else {
                fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
                    .then(response => response.json())
                    .then(({api_server}) => {
                        fetchData('https://' + api_server);
                    });
            }
        })();
    </script>


    <script>
    var searchData = [];
    var $input = document.getElementById('local-search-input');
    var $resultContent = document.getElementById('local-search-result');
    var path = "/" + 'search.json';

    $input.addEventListener('input', searchFunc);

    $resultContent.addEventListener('focusout', function () {
        $resultContent.style.display = "none";
    });

    window.addEventListener('click', function () {
        $resultContent.style.display = "none";
        $input.value = "";
    });

    $resultContent.addEventListener('click', function () {
        event.stopPropagation();
    });

    function searchFunc() {
        if (searchData.length == 0) {
            loadData(searchFunc);
        }
        var str = '<ul>';
        var keywords = $input.value.trim().toLowerCase().split(/[\s\-]+/);
        $resultContent.innerHTML = "";
        if ($input.value.trim().length <= 0) {
            return;
        }
        // perform local searching
        searchData.forEach(function (data) {
            var isMatch = true;
            var content_index = [];
            if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
            }
            var data_title = data.title.trim().toLowerCase();
            var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
            var data_url = data.url;
            var index_title = -1;
            var index_content = -1;
            var first_occur = -1;
            // only match artiles with not empty contents
            if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);

                    if (index_title < 0 && index_content < 0) {
                        isMatch = false;
                    } else {
                        if (index_content < 0) {
                            index_content = 0;
                        }
                        if (i == 0) {
                            first_occur = index_content;
                        }
                    }
                });
            } else {
                isMatch = false;
            }
            // show search results
            if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                str += "</li>";
            }
        });
        str += "</ul>";
        $resultContent.innerHTML = str;
        $resultContent.style.display = "block";
    }

    function loadData(callback) {
        $resultContent.innerHTML = '<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>';
        $.ajax({
            url: path,
            dataType: "json",
            success: function (response) {
                searchData = response;
                callback();
            }
        });
    }
</script>

</body>
</html>